<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Code style" href="STYLE.html" /><link rel="prev" title="Development" href="DEVELOPMENT.html" />

    <link rel="shortcut icon" href="_static/favicon.ico"/><meta name="generator" content="sphinx-4.4.0, furo 2022.03.04"/>
        <title>Project maintainer’s guide - community documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=935aa2abcc5c1da4283d1dc201fb1f0add16d23a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">community  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/agile_open_mini_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Guidelines</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEVELOPMENT.html">Development</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Project maintainer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="STYLE.html">Code style</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Agile Scientific</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/agilescientific"> Agile's GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://code.agilescientific.com"> Agile's software</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.agilescientific.com"> Agile's website</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="project-maintainer-s-guide">
<h1>Project maintainer’s guide<a class="headerlink" href="#project-maintainer-s-guide" title="Permalink to this headline">#</a></h1>
<p>This page sets out our best practice for writing code, creating packages, writing docs, making releases, creating packages, etc.</p>
<p>If you want to contribute to an Agile project, see <a class="reference internal" href="CONTRIBUTING.html"><span class="doc std std-doc">Contributing</span></a> instead.</p>
<section id="philosophy">
<h2>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">#</a></h2>
<p>Agile’s repos should have the following characteristics when possible:</p>
<ul class="simple">
<li><p>Lightweight: as few dependencies as possible. If you only need one function from <code class="docutils literal notranslate"><span class="pre">scipy</span></code>, consider writing it in pure NumPy.</p></li>
<li><p>Predictable: avoid depending on old or niche packages.</p></li>
<li><p>Standard: use standard formats like CSV and PNG; don’t invent new ones.</p></li>
<li><p>Docstrings: write docstrings.</p></li>
<li><p>Docs: write docs oriented around typical use-cases, not only the API.</p></li>
<li><p>Tests: write tests.</p></li>
<li><p>Google-style: we follow <a class="reference external" href="https://peps.python.org/pep-0008/">PEP 8</a> and <a class="reference external" href="https://google.github.io/styleguide/pyguide.html">Google’s style</a>, more or less. For example, we use Google-style docstrings.</p></li>
</ul>
</section>
<section id="branches">
<h2>Branches<a class="headerlink" href="#branches" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">develop</span></code></strong>: The bleeding edge. Always a release candidate. You can make PRs to this branch.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">main</span></code></strong>: Always tested and ready to become a new version. Don’t push directly to this branch; make a new branch and submit a pull request to <code class="docutils literal notranslate"><span class="pre">develop</span></code> instead.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">gh-pages</span></code></strong>: Holds the HTML documentation and is served by GitHub Pages. The source files are in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder. Do not push to <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>, it is managed by GitHub Actions.</p></li>
</ul>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">#</a></h2>
<p>We use <a class="reference external" href="https://docs.pytest.org/en/7.1.x/"><code class="docutils literal notranslate"><span class="pre">pytest</span></code></a> to test our programs. (In one simple package we use <code class="docutils literal notranslate"><span class="pre">doctest</span></code>, and it’s good to include doctest-like examples in your docstrings.)</p>
<p>Usually we add a script called <code class="docutils literal notranslate"><span class="pre">run_tests.py</span></code> to run the tests and explain anything else, like how to renew the test plot baselines. See our other repos.</p>
<p>Typically we use the <code class="docutils literal notranslate"><span class="pre">pytest-cov</span></code> plugin for test coverage and the <code class="docutils literal notranslate"><span class="pre">pytest-mpl</span></code> plugin if we need to test plotting output from <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. In general, we try to avoid having plotting in our packages. For example, if a package produces <code class="docutils literal notranslate"><span class="pre">xarray</span></code> objects, we can lean on their plotting instead.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">#</a></h2>
<p>We use <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a> to build documentation with the <a class="reference external" href="https://github.com/pradyunsg/furo"><code class="docutils literal notranslate"><span class="pre">furo</span></code></a> theme. In general the index file is written in RST and most of the other documents are either Jupyter Notebooks or Markdown files.</p>
<p>Keep the build process as close as possible to Sphinx and what’s in the actual project. It’s tempting to use GitHub Actions for post-processing, etc, but then there’s non-obvious stuff happening and the docs probably won’t build on local. Sphinx is so powerful that you can really accomplish almost anything with its options and extensions.</p>
</section>
<section id="continuous-integration">
<h2>Continuous integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">#</a></h2>
<p>Uses GitHub Actions.</p>
</section>
<section id="build-system">
<h2>Build system<a class="headerlink" href="#build-system" title="Permalink to this headline">#</a></h2>
<p>We use the minimal PEP 517/518-style approach. The easiest thing to do is probably to look at one of our existing packages, e.g. <a class="reference external" href="https://code.agilescientific.com/snowfake/">snowfake</a>, which is a nice, small example package.</p>
<p>In a nutshell, the build system should comprise:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> — contains the project details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> — should be very small.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> — should contain a single dot and nothing else (requirements go in <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> andnowhere else).</p></li>
</ul>
<p>The project should build with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m build
</pre></div>
</div>
<p>We usually provide at least three optional installations, which are useful for other developers and for the CI system:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">docs</span></code> — Installs the required packages for documentation. For example, the docs likely need <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> and <code class="docutils literal notranslate"><span class="pre">furo</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code> — Installs the required packages for tests, e.g. <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code> — Installs the packages needed for docs and tests.</p></li>
</ul>
</section>
<section id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">#</a></h2>
<p>We use simple semantic versioning:</p>
<ul class="simple">
<li><p>Start at 0.1.0. The next bugfix goes to 0.1.1. The next point release goes to 0.2.0.</p></li>
<li><p>The first non-beta release is 1.0.0, then 1.2.0, etc.</p></li>
<li><p>It’s sometimes worth making a release candidate (e.g. if you’ve been monkeying with the build system or CI). In this case release, for example, 0.1.3rc0 and go up from there, 0.1.3rc1, etc. When you are ready to release, use 0.1.3. This avoids ending up with 0.1.3, 0.1.4, 0.1.5, etc, with no material changes other than ‘not broken’.</p></li>
</ul>
</section>
<section id="other-project-files">
<h2>Other project files<a class="headerlink" href="#other-project-files" title="Permalink to this headline">#</a></h2>
<p>Projects should always have:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> — Apache 2.0 unless there’s a reason not to use it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTRIBUTING.md</span></code> — Have a look at another of our repos.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AUTHORS.md</span></code> — Use ORCID links when possible; invite contributors to add themselves.</p></li>
<li><p><a class="reference external" href="https://citation-file-format.github.io/"><code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code></a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">CODE_OF_CONDUCT.md</span></code> file is copied automatically from https://github.com/agilescientific/community.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="STYLE.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Code style</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="DEVELOPMENT.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Development</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                &#169; 2022, Agile Scientific | <a href="https://creativecommons.org/licenses/by/4.0/">CC BY</a>
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and 
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://code.agilescientific.com" aria-label="Agile">
                <svg width="200" height="200" version="1.1" viewBox="0 0 187.5 187.5" xmlns="http://www.w3.org/2000/svg">
                <g transform="matrix(3.94 -1.28 1.28 3.94 -906.1 -3676)" style="color-rendering:auto;color:#000000;fill:#14ca29;image-rendering:auto;isolation:auto;mix-blend-mode:normal;shape-rendering:auto;solid-color:#000000;stroke-width:1px;text-decoration-color:#000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-transform:none;white-space:normal">
                <path d="m-46.98 936.1q3.515-1.622 6.705-3.244t5.083-2.379 3.028-0.757q1.893 0 3.244 1.298 1.406 1.244 1.406 3.136 0 1.081-0.7029 2.271-0.6489 1.136-1.406 1.46-6.975 2.758-15.36 4.001 1.514 1.406 3.731 3.731t2.325 2.487q0.8111 1.136 2.271 2.812 1.46 1.676 2.001 2.65 0.5948 0.9192 0.5948 2.271 0 1.73-1.298 3.028t-3.352 1.298q-2.055 0-4.65-3.19-2.541-3.19-6.597-11.46-4.109 7.462-5.515 9.841t-2.704 3.623q-1.298 1.19-2.974 1.19-2.001 0-3.352-1.352-1.298-1.406-1.298-2.974 0-1.46 0.5407-2.217 4.975-6.759 10.38-11.73-4.542-0.7029-8.111-1.568t-7.57-2.541q-0.6489-0.3244-1.298-1.46-0.5948-1.19-0.5948-2.163 0-1.893 1.352-3.136 1.406-1.298 3.19-1.298 1.298 0 3.244 0.8111 1.947 0.757 4.921 2.271 3.028 1.46 6.867 3.298-0.7029-3.407-1.19-7.786-0.4326-4.434-0.4326-6.056 0-2.001 1.244-3.407 1.298-1.46 3.298-1.46 1.947 0 3.19 1.46 1.298 1.406 1.298 3.785 0 0.6489-0.2163 2.595-0.1622 1.893-0.5407 4.65-0.3244 2.704-0.757 6.218z" style="fill:#14ca29"/>
                </g>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Project maintainer’s guide</a><ul>
<li><a class="reference internal" href="#philosophy">Philosophy</a></li>
<li><a class="reference internal" href="#branches">Branches</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#continuous-integration">Continuous integration</a></li>
<li><a class="reference internal" href="#build-system">Build system</a></li>
<li><a class="reference internal" href="#versioning">Versioning</a></li>
<li><a class="reference internal" href="#other-project-files">Other project files</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>